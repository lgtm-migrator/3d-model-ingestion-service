
# The port on which the service should listen
port: 8080

# Name of the image tu pull from registry
image: acrarolibotnonprod.azurecr.io/3d-model-ingestion-service:vFix

replicaCount: 1

service:
  internalPort: 8080
  externalPort: 8080

jobServiceUrl:  https://job-manager-discrete-ingestion-db-route-3d-dev.apps.v0h0bdx6.eastus.aroapp.io/jobs

flowServiceUrl: http://10.8.1.9:8083/flows

paths:
  mountPath: /mnt/mimi/libot
  basePath: \\domtest\mimi\archi\maz\silver\libot
ingress:
  enabled: false

  annotations:
    kubernetes.io/ingress.class: "nginx"
    nginx.org/mergeable-ingress-type: "minion"
    nginx.org/rewrites: "serviceName={{ printf \"%s-%s\" .Release.Name .Chart.Name | trunc 63 | trimSuffix \"-\" }} rewrite=/"

  path: /3d-model-ingestion-service/

  hosts: ["minikube.local"]

route:
  enabled: true

  annotations:
    haproxy.router.openshift.io/rewrite-target: "/"

storage:
  ingestionSourcePvc:
    enabled: false
    name: 3d-pvc
    size: 5Gi
    subPath: ingestion-source
  storageClass: azure-file
  accessModes: ReadWriteMany
  pv: #for local dev deployment
    ingestionPv:
      name: ingestion-source-pv
      enabled: false
      size: 5Gi
      hostPath: /3Dmodels    